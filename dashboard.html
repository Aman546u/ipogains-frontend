<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7BEJXF3C1Y"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-7BEJXF3C1Y');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard - IPOGains</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="favicon.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Modular CSS -->
    <link rel="stylesheet" href="css/base/variables.css">
    <link rel="stylesheet" href="css/base/reset.css">
    <link rel="stylesheet" href="css/components/navbar.css">
    <link rel="stylesheet" href="css/components/buttons.css">
    <link rel="stylesheet" href="css/components/cards.css">
    <link rel="stylesheet" href="css/components/forms.css">
    <link rel="stylesheet" href="css/components/modals.css">
    <link rel="stylesheet" href="css/utilities.css">
    <link rel="stylesheet" href="css/sections/footer.css">

    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            --card-bg: #1e293b;
            --border-color: #334155;
        }

        body {
            background-color: #0f172a;
            color: #f8fafc;
        }

        .dashboard-container {
            max-width: 1200px;
            margin: 100px auto 40px;
            padding: 0 24px;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--border-color);
        }

        .dashboard-title h1 {
            font-size: 2.25rem;
            font-weight: 800;
            background: linear-gradient(to right, #fff, #94a3b8);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }

        .user-welcome {
            color: #94a3b8;
            font-size: 1.1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-bottom: 48px;
        }

        .stat-card {
            background: var(--card-bg);
            padding: 32px;
            border-radius: 16px;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-color: #475569;
        }

        .stat-icon {
            width: 64px;
            height: 64px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem;
            margin-right: 24px;
        }

        .stat-info .value {
            font-size: 2.5rem;
            font-weight: 700;
            line-height: 1;
            margin-bottom: 8px;
            color: #fff;
        }

        .stat-info .label {
            color: #94a3b8;
            font-size: 0.95rem;
            font-weight: 500;
        }

        .dashboard-section {
            background: var(--card-bg);
            border-radius: 20px;
            border: 1px solid var(--border-color);
            padding: 32px;
            margin-bottom: 32px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .section-header h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
        }

        .app-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        .app-table th {
            text-align: left;
            padding: 16px 24px;
            color: #94a3b8;
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border-color);
        }

        .app-table td {
            padding: 20px 24px;
            border-bottom: 1px solid rgba(51, 65, 85, 0.5);
            color: #e2e8f0;
            vertical-align: middle;
        }

        .app-table tr:last-child td {
            border-bottom: none;
        }

        .app-table tr:hover {
            background-color: rgba(255, 255, 255, 0.02);
        }

        .status-badge {
            padding: 8px 16px;
            border-radius: 9999px;
            font-size: 0.85rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .status-badge::before {
            content: '';
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background-color: currentColor;
        }

        .status-pending {
            background: rgba(59, 130, 246, 0.1);
            color: #60a5fa;
        }

        .status-allotted {
            background: rgba(34, 197, 94, 0.1);
            color: #4ade80;
        }

        .status-not_allotted {
            background: rgba(239, 68, 68, 0.1);
            color: #f87171;
        }

        .status-checked_external {
            background: rgba(168, 85, 247, 0.1);
            color: #c084fc;
        }

        .btn-update {
            background: transparent;
            border: 1px solid var(--border-color);
            color: #94a3b8;
            width: 32px;
            height: 32px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-update:hover {
            background: #334155;
            color: #fff;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar" id="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo">
                <i class="fas fa-chart-line"></i>
                <span>IPO<strong>Gains</strong></span>
            </a>
            <div class="nav-links" id="navLinks">
                <a href="index.html" class="nav-link">Home</a>
                <a href="ipos.html" class="nav-link">IPOs</a>
                <a href="allotment.html" class="nav-link">Check Allotment</a>
                <a href="news.html" class="nav-link">News</a>
                <a href="dashboard.html" class="nav-link active">Dashboard</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="contact.html" class="nav-link">Contact</a>
            </div>
            <div class="nav-actions">
                <button class="btn btn-outline" id="logoutBtn" style="display: none;">Logout</button>
                <div class="user-menu" id="userMenu">
                    <button class="btn btn-icon">
                        <i class="fas fa-user"></i>
                    </button>
                    <div class="dropdown-menu">
                        <a href="dashboard.html"><i class="fas fa-th-large"></i> Dashboard</a>
                        <a href="#" id="logoutLink"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <div class="dashboard-container">
        <div class="dashboard-header">
            <div class="dashboard-title">
                <h1>My Dashboard</h1>
                <div class="user-welcome">Welcome back, <span id="userEmail">User</span></div>
            </div>
            <a href="allotment.html" class="btn btn-primary">
                <i class="fas fa-plus"></i> Check New Allotment
            </a>
        </div>

        <!-- Stats Row -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon" style="background: rgba(59, 130, 246, 0.1); color: #3b82f6;">
                    <i class="fas fa-file-invoice"></i>
                </div>
                <div class="stat-info">
                    <div class="value" id="totalApplications">0</div>
                    <div class="label">Total Applications</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: rgba(34, 197, 94, 0.1); color: #22c55e;">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-info">
                    <div class="value" id="totalAllotted">0</div>
                    <div class="label">Allotments Received</div>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon" style="background: rgba(139, 92, 246, 0.1); color: #8b5cf6;">
                    <i class="fas fa-layer-group"></i>
                </div>
                <div class="stat-info">
                    <div class="value" id="totalShares">0</div>
                    <div class="label">Shares Allotted</div>
                </div>
            </div>
        </div>

        <!-- Applications List -->
        <div class="dashboard-section">
            <div class="section-header">
                <h2>Recent Applications</h2>
            </div>
            <div class="table-responsive">
                <table class="app-table">
                    <thead>
                        <tr>
                            <th>Company</th>
                            <th>Application No</th>
                            <th>Applied Date</th>
                            <th>Lot Size</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="applicationTableBody">
                        <tr>
                            <td colspan="5" class="text-center p-4">Loading...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>IPOGains</h4>
                    <p>Your trusted platform for IPO tracking and analysis.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>

                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <a href="index.html">Home</a>
                    <a href="ipos.html">IPO Listings</a>
                    <a href="allotment.html">Check Allotment</a>
                    <a href="gmp.html">GMP</a>
                    <a href="news.html">News</a>
                </div>

                <div class="footer-section">
                    <h4>Resources</h4>
                    <a href="about.html">About Us</a>
                    <a href="contact.html">Contact</a>
                    <a href="privacy-policy.html">Privacy Policy</a>
                    <a href="terms-of-service.html">Terms & Conditions</a>
                    <a href="disclaimer.html">Disclaimer</a>
                </div>

                <div class="footer-section">
                    <h4>Newsletter</h4>
                    <p>Subscribe for IPO updates</p>
                    <form class="newsletter-form" id="newsletterForm">
                        <input type="email" placeholder="Your email" required>
                        <button type="submit"><i class="fas fa-paper-plane"></i></button>
                    </form>
                </div>
            </div>

            <div class="footer-bottom">
                <div
                    style="margin-bottom: 20px; font-size: 0.85rem; color: #888; border-top: 1px solid #333; padding-top: 20px;">
                    <strong>Disclaimer:</strong> IPOGains is an informational platform only. We do not provide
                    investment
                    advice, stock tips, or guaranteed returns. All data, including GMP and subscription info, is shared
                    for informational purposes and should not be treated as a recommendation. Users are advised to
                    verify all details from official SEBI sources and consult a certified financial advisor before
                    investing.
                </div>
                <p>&copy; 2026 IPOGains. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/config/constants.js"></script>
    <script src="js/main.js"></script>
    <script src="js/utils/api.js"></script>
    <script src="js/utils/storage.js"></script>
    <script src="js/components/modals.js"></script>
    <script src="js/pages/dashboard.js"></script>
</body>

</html>
